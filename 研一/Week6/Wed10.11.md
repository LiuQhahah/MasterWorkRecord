#下午#
---

##接上##
**3.2基于互联网的实时显示技术**

1.Ajax 异步通信技术，避免http协议在数据交换过程中，因信息过多而导致数据显示不能实时刷新的情况

2.Websocket通信技术：不用客户端不断地向服务器发送通信请求，从而减少性能消耗，（Websocket协议是在 Http 协议的基础上发展而来的，其本质是 Http 协议）其通信建立在浏览器与服务器之间，从而实现网页数据的实时通讯。

3.数据库技术
现有的数据库有 Microsoft 的 Access、SQL Sever 和 SQLAzure 数据库，甲
骨文公司的 MySQL 和 Oracle 数据库，Sybase 公司的 Sybase 数据库，IBM 公司
的 DB2 数据库等。Access 和 MySQL 数据库是中小型的数据库，一般适用于中
小型的数据储存，并且操作相对简单；Sybase、SQL Sever 和 Oracle 数据库适用
于中大型数据的存储操作；DB2 是超大型数据的储存操作；SQLAzure 是用于
云数据库的操作，可以与 Visual Studio 2013 以上的开发工具版本进行连接使用，
是微软公司最近几年才发行的，主要面对的是网络数据库的操作。

3.4.2Window Azure 的数据访问

	三种存储服务：Table Storage（表存储）、Blob Storage（块存储）和 Queue（消息列队）

	Blob Storage（块储存）：是最简单的存储方式，是用来储存没有结构方式
	的数据。可以用 Blob 块来存储文档、社交数据（照片、视频、博客等）、数据
	和设备的备份、Web 应用程序的图像和文本、云应用程序的配置数据等
	
	Table Storage（表储存）：是一种结构化的储存数据的方式，是为了让数据
	库与应用程序更好的配合储存数据而设计的。不同类型的数据都可以放到一个表
	中，这样有利于程序员方便的储存和提取表中的数据。表中的数据一般可以储存
	像二进制、整型等类型的数据，也可以储存像时间、日期等类型的数据，程序员
	可以用 ADO.NET 对表数据进行增、删、改、查等操作

	Queues（消息列队）：它的作用不是像表储存和块储存一样用于储存数据的，
	而是用于 Web 应用程序与辅助应用程序之间进行数据通讯的。当一个任务来到
	时，Web 应用角色接收任务，消息传递给消息列队，辅助应用角色读取消息列队
	的消息，然后进行处理，把结果返回给消息列队，最后提交给 Web 应用角色，


#系统架构#

**本文的框架是用.Net 框架
来搭建的，用 Visual Studio 2013 对网页进行设计开发，将网页发布到 Windows
Azure 微软云上；采用 SQLAzure 云平台数据库服务器和本地 SQL Sever 数据库
来对数据进行储存和操作的。污水处理厂的数据经过 PLC 模块和智能仪表等仪
器对现场数据进行采集后，存入数据库，然后通过云端 SQLAzure 数据库与 SQL
Sever 数据库之间进行数据交互，把数据库的数据传到云端数据库，客户和公司
人员可以远程对数据进行一系列的操作**



----------

## 基于云平台的工业现场数据发布系统的主要结构框架主要包括：工业现场的工控层、Web 服务层、Web 监控层和云端监控层 ##


##4.2##
 PLC 与工业现场工控机的通讯有四种方法：

1. 工控机直接通过 PLC 的编程接口来调用 PLC 的连接函数实现与 PLC 之间的数据交换，达到数据交互的目的
2. 现场监控设备与 PLC 之间采用OPC 的通信服务来建立一个通讯的桥梁，即工业现场 PLC 的数据传送给 OPC 服务器，然后 OPC 再把 PLC 的数据传送给工控机中，实现通讯的目的
3. 利用系统的上位软件与 PLC 进行通讯，完成工控机与 PLC 的通讯
4. 通过上位软件调用不同型号的 PLC 控制器的 TCP/IP 模块来实现工控机与 PLC 之间的数据交互，达到现场数据监控的目的

*（注：前面三种太依赖于自己厂家特定的接口、通信方式，实现比较繁琐，因此采用
TCP/IP 协议对工控机与 PLC 进行通信。）*

#4.3.1数据库的应用模式#开发工具CodeSmith
本系统采用三层的模式对数据库进行操作，即数据访问层（DAL）、业务逻辑层(BLL)和表示层（ULL）

#4.3.2 数据库的建立#
数据表  按照要求建立统一的**实时数据表（Realtime）**、**历史数据表（History**）、粗格栅数据表（Coarse）、细格栅数据表（Fine）、氧化沟数据表（Oxidation）等

#4.6 数据发布系统的安全性#

本系统针对安全性设计了以下几个措施：

（1）设计本系统时，针对安全性问题对本系统设置安全访问权限，并且对
账户和密码在后台程序中进行加密，用户登陆本系统必须从使用与数据库相匹配
的账户和密码，才能对污水处理厂的数据发布系统的主页进行访问。

（2）在数据传输时进行加密，防止数据在传输时产生数据泄露的情况。

（3）将网页发送到微软云平台上，微软云平台有自己的安全措施，黑客需
要攻破微软的后台才可以拿到数据，这也是选择微软云平台的一个重要的因素。
再加上自己在数据传递和身份验证的安全措施就可以保证系统的安全性。


（4）系统的硬件设计也采取必要的措施，以防止数据网络传输的泄露

#论文完#
